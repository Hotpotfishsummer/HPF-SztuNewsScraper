# ============================================================================
# SZTU 新闻爬虫 - 环境配置文件示例
# 复制此文件为 .env 并填入你的实际配置
# ============================================================================

# --- 日志配置 ---
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# --- 时区 ---
TIMEZONE=Asia/Shanghai

# ============================================================================
# AI 和 API 配置
# ============================================================================

# --- Gemini API 配置 ---
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE
GEMINI_MODEL=gemini-2.5-flash
GEMINI_TEMPERATURE=1.0
GEMINI_MAX_TOKENS=5000

# --- Dify API 配置 ---
DIFY_ENABLED=false
DIFY_API_ENDPOINT=http://localhost:8001/v1
DIFY_API_KEY=app-your-dify-api-key-here
DIFY_TIMEOUT=60
DIFY_RETRY_TIMES=3
DIFY_RETRY_DELAY=2

# ============================================================================
# 网络代理配置
# ============================================================================
PROXY_ENABLED=false
PROXY_PROTOCOL=http
PROXY_HOST=127.0.0.1
PROXY_PORT=7890
PROXY_USERNAME=
PROXY_PASSWORD=

# ============================================================================
# 用户个人信息配置
# ============================================================================

# --- 基本信息 ---
USER_NAME=张三
USER_STUDENT_ID=2024001234
USER_GENDER=男

# --- 教育背景 ---
USER_DEPARTMENT=计算机学院
USER_MAJOR=计算机科学与技术
USER_GRADE=2024级
USER_CLASS=1班
USER_STUDENT_TYPE=本科生

# --- 兴趣设置（逗号分隔） ---
USER_INTERESTED_TOPICS=人工智能,开源软件,竞技编程
USER_INTERESTED_KEYWORDS=算法,编程,数据结构,计算机,信息安全

# --- 不感兴趣设置（逗号分隔） ---
USER_DISLIKED_TOPICS=体育赛事,娱乐八卦
USER_DISLIKED_KEYWORDS=运动会,明星

# --- 通知偏好 ---
USER_PRIORITY_DEPARTMENTS=计算机学院,教务处
USER_EXCLUDE_CATEGORIES=体育活动,文艺演出
USER_RECEIVE_URGENT_ONLY=false

# ============================================================================
# 定时任务调度配置
# ============================================================================

# --- 爬虫任务 ---
# CRON 格式：分 小时 日 月 周
# 示例：0 0 * * * = 每天00:00 运行
SCHEDULER_SCRAPER_ENABLED=true
SCHEDULER_SCRAPER_JOB_ID=scraper_daily
SCHEDULER_SCRAPER_CRON=0 0 * * *
SCHEDULER_SCRAPER_PAGES=3

# --- 分析任务 ---
SCHEDULER_ANALYZER_ENABLED=true
SCHEDULER_ANALYZER_JOB_ID=analyzer_daily
SCHEDULER_ANALYZER_CRON=0 6 * * *
SCHEDULER_ANALYZER_BATCH_SIZE=10

# --- 清理任务 ---
SCHEDULER_CLEANUP_ENABLED=false
SCHEDULER_CLEANUP_JOB_ID=cleanup_weekly
SCHEDULER_CLEANUP_CRON=0 3 * * 0
SCHEDULER_CLEANUP_DAYS_TO_KEEP=30

# --- 健康检查任务 ---
SCHEDULER_HEALTH_CHECK_ENABLED=true
SCHEDULER_HEALTH_CHECK_JOB_ID=health_check
SCHEDULER_HEALTH_CHECK_INTERVAL_MINUTES=5

# ============================================================================
# 应用服务配置
# ============================================================================

# --- FastAPI 服务 ---
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# --- Streamlit Web UI ---
STREAMLIT_PORT=8501

# --- 调度器服务 ---
SCHEDULER_LOG_LEVEL=INFO

# ============================================================================
# 数据存储配置
# ============================================================================
ARTICLES_DATA_DIR=articles
LOGS_DIR=logs

# ============================================================================
# 开发和调试配置
# ============================================================================
DEBUG=false
ENVIRONMENT=development
# 复制此文件为 .env 并填入实际值

# ===== Dify 配置 =====
DIFY_ENABLED=false
DIFY_API_ENDPOINT=http://localhost:8001/v1
DIFY_API_KEY=app-your-dify-api-key-here
DIFY_TIMEOUT=60
DIFY_RETRY_TIMES=3
DIFY_RETRY_DELAY=2

# ===== Gemini 配置 =====
GEMINI_API_KEY=your-gemini-api-key-here
GEMINI_MODEL=gemini-2.5-flash

# ===== 日志配置 =====
LOG_LEVEL=INFO

# ===== 代理配置 =====
PROXY_ENABLED=false
PROXY_PROTOCOL=http
PROXY_HOST=127.0.0.1
PROXY_PORT=7890
PROXY_USERNAME=
PROXY_PASSWORD=

# ===== 调度器配置 =====
SCHEDULER_ENABLED=true
SCHEDULER_LOG_LEVEL=INFO
SCHEDULER_TIMEZONE=Asia/Shanghai

# ===== 爬虫配置 =====
SCRAPER_ENABLED=true
SCRAPER_SCHEDULE_HOUR=0
SCRAPER_SCHEDULE_MINUTE=0
SCRAPER_PAGES=3

# ===== 分析器配置 =====
ANALYZER_ENABLED=true
ANALYZER_SCHEDULE_HOUR=6
ANALYZER_SCHEDULE_MINUTE=0
ANALYZER_BATCH_SIZE=10

# ===== Web 服务配置 =====
WEB_HOST=0.0.0.0
WEB_PORT=8501

# ===== API 服务配置 =====
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ===== 数据库配置（可选）=====
# DATABASE_URL=sqlite:///./data/app.db
# DATABASE_ECHO=false

# ===== Redis 配置（可选）=====
# REDIS_URL=redis://localhost:6379/0
# REDIS_TIMEOUT=5

# ===== 其他配置 =====
PROJECT_NAME=SZTU-NewsScraper
PROJECT_VERSION=1.0.0
DEBUG=false
